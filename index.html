<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0E9F6E" />
  <title>The Debt Protector ‚Äî Debt Reset Kit</title>
  <meta name="description" content="Stop debt collectors legally without a lawyer. Download legal-style letter templates and get instant relief.">

  <style>
    :root{
      --bg:#ffffff; --ink:#0B1727; --muted:#6B7280; --brand:#0A2239; --accent:#E5B73B;
      --cta:#0E9F6E; --cta-ink:#ffffff; --danger:#DC2626; --ring: rgba(14,159,110,.25);
      --radius:16px; --shadow:0 8px 24px rgba(2,6,23,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,"Noto Sans";color:var(--ink);background:var(--bg);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    img{max-width:100%;display:block}
    a{color:var(--brand);text-decoration:none}
    .container{max-width:1120px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.9);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid #eef1f6}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand .logo{width:40px;height:40px;border-radius:50%;background:var(--brand);display:grid;place-items:center;box-shadow:0 4px 12px rgba(10,34,57,.18)}
    .brand .logo span{color:var(--accent);font-weight:800}
    .brand h1{font-size:18px;margin:0;letter-spacing:.01em;}
    .sticky-cta{display:none}
    @media(min-width:768px){ .sticky-cta{display:inline-flex;align-items:center;gap:10px;background:var(--cta);color:#fff;padding:10px 16px;border-radius:999px;box-shadow:0 6px 20px rgba(14,159,110,.35);font-weight:700} }

    .hero{padding:40px 0}
    .grid{display:grid;gap:28px}
    @media(min-width:900px){ .grid{grid-template-columns:1.2fr .8fr;align-items:center} .headline{font-size:48px} }
    .badge{display:inline-flex;align-items:center;gap:8px;background:#F9FAFB;border:1px solid #EEF2F7;color:#0A2239;padding:8px 12px;border-radius:999px;font-weight:700;letter-spacing:.01em;}
    .headline{font-size:clamp(28px, 3vw, 44px);line-height:1.12;margin:12px 0;letter-spacing:-0.015em}
    .sub{color:var(--muted);font-size:clamp(16px, 2vw, 18px);line-height:1.6}
    .list{margin:18px 0;padding:0;list-style:none}
    .list li{display:flex;gap:10px;align-items:flex-start;margin:10px 0;line-height:1.45}
    .list .tick{color:var(--cta);font-weight:900}

    .card{background:#fff;border:1px solid #EEF2F7;border-radius:var(--radius);box-shadow:var(--shadow);padding:20px}
    .form label{font-weight:700;font-size:14px}
    .form input[type="email"]{width:100%;padding:16px 14px;border:1.5px solid #E5E7EB;border-radius:12px;outline:none;font-size:16px}
    .form input[type="email"]:focus{border-color:var(--cta);box-shadow:0 0 0 6px var(--ring)}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;background:var(--cta);color:var(--cta-ink);border:none;border-radius:12px;padding:14px 18px;font-weight:700;letter-spacing:.01em;line-height:1.2;cursor:pointer;width:100%;text-align:center}
    .btn.secondary{background:#0A2239}
    .btn.outline{background:#fff;color:#0A2239;border:2px solid #0A2239}
    .hint{color:var(--muted);font-size:12px;margin-top:6px}
    .trust{display:flex;gap:16px;flex-wrap:wrap;color:#6B7280;font-size:12px;margin-top:10px}
    .progress{margin:12px 0 0;height:6px;background:#F3F4F6;border-radius:999px;overflow:hidden}
    .progress>span{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#f5d56e);width:33%}

    #offer{display:none;padding:32px 0 20px}
    .section-title{font-size:clamp(22px,2.5vw,32px);margin:0 0 10px}
    .price-wrap{display:grid;gap:20px}
    @media(min-width:900px){ .price-wrap{grid-template-columns:1fr 1fr} }
    .price-card{position:relative;border:1px solid #eef2f7;border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;background:#fff}
    .ribbon{position:absolute;top:14px;right:-10px;background:var(--accent);color:#111827;font-weight:800;padding:6px 10px;border-radius:8px}
    .price{font-size:34px;font-weight:900;color:#0A2239;margin:6px 0}
    .compare{color:#9CA3AF;text-decoration:line-through;font-weight:700}
    .timer{display:inline-flex;gap:8px;background:#FFF7ED;color:#93370D;border:1px solid #FED7AA;border-radius:8px;padding:8px 12px;font-weight:800}
    .value{background:#F9FAFB;border:1px dashed #E5E7EB;padding:10px 12px;border-radius:12px;margin-top:10px;color:#4B5563}
    .guarantee{display:flex;align-items:center;gap:10px;color:#065F46;background:#ECFDF5;border:1px solid #A7F3D0;padding:10px 12px;border-radius:10px;font-weight:700;margin-top:10px}
    .benefits{display:grid;gap:12px;margin:12px 0}
    .benefits div{display:flex;gap:10px;align-items:flex-start}
    .stack{margin-top:24px;background:#fff;border:1px solid #eef2f7;border-radius:16px;box-shadow:var(--shadow);padding:16px}
    .stack h4{margin:0 0 10px}

    .modal{position:fixed;inset:0;background:rgba(2,6,23,.55);display:none;place-items:center;z-index:100}
    .modal .box{background:#fff;border-radius:16px;padding:22px;width:min(560px, 92vw);box-shadow:0 20px 60px rgba(2,6,23,.25)}
    .modal .actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}

    .proof{padding:12px 0 28px}
    .quotes{display:grid;gap:16px}
    @media(min-width:900px){ .quotes{grid-template-columns:1fr 1fr 1fr} }
    .quote{border:1px solid #eef2f7;border-radius:14px;padding:14px;background:#fff;box-shadow:var(--shadow);color:#374151}
    .faq{padding:20px 0 40px}
    details{border:1px solid #eef2f7;border-radius:12px;padding:12px 14px;background:#fff;margin:8px 0}
    summary{font-weight:800;cursor:pointer}

    footer{border-top:1px solid #eef2f7;padding:16px 0;color:#6B7280;font-size:12px}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"><span>üõ°Ô∏è</span></div>
        <h1>The Debt Protector</h1>
      </div>
      <a href="#offer" class="sticky-cta">Get Your Kit</a>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero container">
      <div class="grid">
        <div>
          <span class="badge">Harassed by collectors? <strong>Not anymore.</strong></span>
          <h2 class="headline">Stop Debt Collectors <span style="color:var(--brand)">Legally</span> ‚Äî Without a Lawyer.</h2>
          <p class="sub">Download the <strong>Cease &amp; Desist</strong> letter free, then see how to unlock the complete <em>Debt Reset Kit</em> so you can force verification, stop harassment, and protect your credit ‚Äî the legal way.</p>
          <ul class="list">
            <li><span class="tick">‚úî</span> Instant email delivery ‚Ä¢ mobile-friendly PDFs</li>
            <li><span class="tick">‚úî</span> Step-by-step guide: which letter to send first</li>
            <li><span class="tick">‚úî</span> Not legal advice ‚Ä¢ You stay in control</li>
          </ul>
          <div class="trust"><span>Secure Checkout</span> ‚Ä¢ <span>Instant Access</span> ‚Ä¢ <span>No Subscription</span></div>
        </div>

        <div>
          <div class="card">
            <form id="leadForm" class="form" novalidate>
              <label for="email">Get the Free Cease &amp; Desist Letter</label>
              <input id="email" name="email" type="email" placeholder="you@email.com" required>
              <button class="btn" type="submit">Send My Free Letter</button>
              <p class="hint">By continuing you agree to receive your download link and follow-up tips. Unsubscribe anytime.</p>
            </form>

            <div id="leadSuccess" style="display:none">
              <h3 style="margin:0 0 8px">Check your inbox üì©</h3>
              <p class="sub" style="margin:0 0 12px">Your free letter is on the way. While it sends, unlock the complete kit below.</p>
              <a id="freeLink" class="btn secondary" href="#" target="_blank" rel="noopener">Download Free Letter (PDF)</a>
            </div>

            <div class="progress" aria-hidden="true"><span></span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- OFFER -->
    <section id="offer" class="container">
      <h3 class="section-title">Choose your protection</h3>
      <p class="sub">Timer is live. When it hits 0:00, the launch discount ends.</p>

      <div class="price-wrap">
        <!-- STARTER -->
        <article class="price-card" id="starterCard">
          <h4 style="margin:0">Starter 3-Letter Kit</h4>
          <p class="sub">Cease &amp; Desist ‚Ä¢ Debt Dispute ‚Ä¢ Validation + "How to Use" guide.</p>
          <div class="benefits">
            <div><span class="tick">‚úî</span> 3 legal-style templates (PDF)</div>
            <div><span class="tick">‚úî</span> Step-by-step send order</div>
            <div><span class="tick">‚úî</span> Instant delivery via email</div>
          </div>
          <div class="timer"><span>‚è≥</span> <span id="timerA">15:00</span> left at launch price</div>
          <div class="price">$19.97</div>
          <div class="value">Lawyers charge $300+ to send a single letter.</div>
          <button id="buyStarter" class="btn">Get Starter ‚Äî $19.97</button>
          <div class="guarantee">üíö 30-Day Money-Back if you're not satisfied</div>
        </article>

        <!-- FULL -->
        <article class="price-card" id="fullCard">
          <div class="ribbon">Most Popular</div>
          <h4 style="margin:0">Full Debt Reset Kit</h4>
          <p class="sub">All letters + editable fillables + certified mail (online) guide.</p>
          <div class="benefits">
            <div><span class="tick">‚úî</span> Everything in Starter</div>
            <div><span class="tick">‚úî</span> All 7 templates (incl. Pay-for-Delete)</div>
            <div><span class="tick">‚úî</span> Fillable PDFs + Word versions</div>
            <div><span class="tick">‚úî</span> How to send <strong>certified mail online</strong></div>
            <div><span class="tick">‚úî</span> Bonus: Debt Tracker spreadsheet</div>
          </div>
          <div class="timer"><span>‚è≥</span> <span id="timerB">15:00</span> 50% OFF launch</div>
          <div class="price">$28.97 <span class="compare">Reg. $57.94</span></div>
          <div class="value">One-time upgrade ‚Ä¢ Not offered again on this page</div>
          <a id="buyFull" class="btn" href="#">Unlock Full Kit ‚Äî $28.97</a>
          <div class="guarantee">üõ°Ô∏è Most protection for the lowest price</div>
        </article>
      </div>

      <div class="stack">
        <h4>What you get today</h4>
        <ul class="list">
          <li><span class="tick">‚úî</span> Cease &amp; Desist letter (free + in both kits)</li>
          <li><span class="tick">‚úî</span> Debt Dispute + Validation letters</li>
          <li><span class="tick">‚úî</span> Pay-for-Delete template (Full)</li>
          <li><span class="tick">‚úî</span> Fillable PDFs + Word files (Full)</li>
          <li><span class="tick">‚úî</span> Certified mail online sending guide (Full)</li>
          <li><span class="tick">‚úî</span> 1-page "How to Use" + send order</li>
        </ul>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div>¬© <span id="yr"></span> The Debt Protector ‚Ä¢ All Rights Reserved</div>
      <div style="margin-top:6px">Not legal advice. For education only. By purchasing you agree to the Terms & Refund Policy.</div>
    </div>
  </footer>

  <!-- Upsell Modal -->
  <div id="upsellModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="upsellTitle">
    <div class="box">
      <h3 id="upsellTitle" class="section-title" style="margin-top:0">Wait ‚Äî get the Complete Kit for <span style="color:var(--danger)">$9 more</span></h3>
      <p class="sub">Upgrade now for $28.97 (Reg. $57.94). You‚Äôll get all 7 letters, fillable PDFs, and the certified-mail online guide.</p>
      <div class="actions">
        <a class="btn" id="upsellYes" href="#">Yes, upgrade me ‚Äî $28.97</a>
        <button class="btn outline" id="upsellNo">No thanks, keep Starter</button>
      </div>
      <p class="hint">This one-time upgrade is only on this page.</p>
    </div>
  </div>

  <!-- Stripe Checkout Modal -->
  <div id="checkoutModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);place-items:center;z-index:200;">
    <div style="background:#fff;border-radius:16px;width:min(520px,92vw);padding:18px;box-shadow:0 20px 60px rgba(2,6,23,.25)">
      <h3 style="margin:0 0 8px">Secure Checkout</h3>
      <div id="payment-element"></div>
      <button id="payNow" class="btn" style="margin-top:12px;width:100%">Pay</button>
      <button id="closeCheckout" class="btn outline" style="margin-top:8px;width:100%">Cancel</button>
      <div id="payMsg" class="hint" style="margin-top:8px"></div>
    </div>
  </div>

  <script src="https://js.stripe.com/v3/"></script>
  <script>
    // Helpers / year
    const $ = s => document.querySelector(s);
    $('#yr').textContent = new Date().getFullYear();

    // Free letter link (served from your own domain)
    const FREE_LETTER_URL = '/downloads/Cease_and_Desist_Debt_Collection_Letter.pdf';

    // Mailchimp (JSONP)
    const MAILCHIMP_JSONP_URL = 'https://app.us5.list-manage.com/subscribe/post-json?u=f2ebf5b6d3307d2eb64af59c1&id=22602bf440&c=?';
    function subscribeMailchimp(email){
      return new Promise((resolve)=>{
        const cb = 'mc_cb_' + Math.random().toString(36).slice(2);
        const s  = document.createElement('script');
        const url = MAILCHIMP_JSONP_URL.replace('c=?','c='+cb) + '&EMAIL=' + encodeURIComponent(email);
        window[cb] = (data)=>{ try{ delete window[cb]; document.body.removeChild(s);}catch{} resolve(data||{}); };
        s.src = url; s.onerror = ()=>{ try{ delete window[cb]; document.body.removeChild(s);}catch{} resolve({result:'error'}); };
        document.body.appendChild(s);
        setTimeout(()=>{ try{ delete window[cb]; document.body.removeChild(s);}catch{} resolve({result:'timeout'}); }, 9000);
      });
    }

    // Lead magnet
    const leadForm = $('#leadForm'), leadSuccess = $('#leadSuccess'), offer = $('#offer'), freeLink = $('#freeLink');
    function showOffer(){ offer.style.display = 'block'; offer.scrollIntoView({behavior:'smooth'}); }

    leadForm?.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const email = ($('#email').value||'').trim();
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){ alert('Please enter a valid email'); return; }
      localStorage.setItem('dp_email', email);
      leadForm.style.display='none'; leadSuccess.style.display='block';
      freeLink.href = FREE_LETTER_URL; freeLink.setAttribute('target','_blank'); freeLink.setAttribute('rel','noopener');
      startCountdown(); showOffer();
      try{ subscribeMailchimp(email); }catch{}
    });

    if(localStorage.getItem('dp_email')){
      leadForm?.style && (leadForm.style.display='none'); leadSuccess.style.display='block'; freeLink.href = FREE_LETTER_URL;
      showOffer(); startCountdown();
    }

    // Countdown (15 mins)
    const TIMER_KEY='dp_deadline';
    function startCountdown(){
      let dl = +localStorage.getItem(TIMER_KEY); const now = Date.now();
      if(!dl || now>dl){ dl = now + 15*60*1000; localStorage.setItem(TIMER_KEY, dl); }
      const els=[$('#timerA'),$('#timerB')];
      (function tick(){
        const ms = dl - Date.now(); if(ms<=0){ els.forEach(e=>e&&(e.textContent='00:00')); return; }
        const m=String(Math.floor(ms/60000)).padStart(2,'0'), s=String(Math.floor((ms%60000)/1000)).padStart(2,'0');
        els.forEach(e=>e&&(e.textContent=`${m}:${s}`)); requestAnimationFrame(()=>setTimeout(tick,250));
      })();
    }

    // Upsell modal logic
    const upsellModal=$('#upsellModal');
    $('#buyStarter')?.addEventListener('click',(e)=>{ e.preventDefault(); upsellModal.style.display='grid'; });
    $('#upsellNo')?.addEventListener('click',(e)=>{ e.preventDefault(); upsellModal.style.display='none'; openCheckout('starter'); });
    $('#upsellYes')?.addEventListener('click',(e)=>{ e.preventDefault(); upsellModal.style.display='none'; openCheckout('full'); });
    upsellModal?.addEventListener('click',(e)=>{ if(e.target===upsellModal) upsellModal.style.display='none'; });
    $('#buyFull')?.addEventListener('click',(e)=>{ e.preventDefault(); openCheckout('full'); });

    // Smooth-scroll for nav anchors
    document.querySelectorAll('a[href^="#"]').forEach(a=>a.addEventListener('click',(e)=>{const id=a.getAttribute('href'),el=document.querySelector(id);if(el){e.preventDefault();el.scrollIntoView({behavior:'smooth'});}}));

    // ---------- STRIPE CHECKOUT ----------
    const STRIPE_PUBLISHABLE_KEY = 'pk_test_51Rpcep2NAZdGyvKDjXJvJ2gSePQ2bRh9zwfnLfyyosSa317MW8liwlPvVbCk5v5YbkdnnRexDBUNCwjASG3zYqGb00Ma3raQs4';
    const SITE_ORIGIN = 'https://cooldown-system.vercel.app'; // change to your custom domain later

    const checkoutModalEl = $('#checkoutModal'); const payNowBtn = $('#payNow'); const closeCheckoutBtn = $('#closeCheckout');
    const payMsgEl = $('#payMsg'); const paymentContainer = $('#payment-element');
    let stripe, elements, clientSecret, selectedProduct='starter', isPaying=false;

    async function openCheckout(product){
      selectedProduct = product; payMsgEl.textContent=''; paymentContainer.innerHTML=''; isPaying=false; payNowBtn.disabled=false; checkoutModalEl.style.display='grid';
      try{
        const r = await fetch('/api/create-intent',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({product})});
        if(!r.ok) throw new Error('Server error starting checkout.');
        const data = await r.json(); if(!data.clientSecret) throw new Error('Missing client secret');
        clientSecret = data.clientSecret; stripe = Stripe(STRIPE_PUBLISHABLE_KEY);
        elements = stripe.elements({clientSecret}); elements.create('payment').mount('#payment-element');
      }catch(err){ payMsgEl.textContent = err.message || 'Network error. Please try again.'; }
    }

    async function confirmPay(){
      if(isPaying || !stripe) return; isPaying=true; payNowBtn.disabled=true; payNowBtn.textContent='Processing‚Ä¶'; payMsgEl.textContent='';
      const result = await stripe.confirmPayment({
        elements,
        confirmParams: { return_url: 'https://cooldown-system.vercel.app/thank-you.html?p=' + selectedProduct }
      });
      if(result?.error){ payMsgEl.textContent = result.error.message || 'Payment error. Try another method.'; isPaying=false; payNowBtn.disabled=false; payNowBtn.textContent='Pay'; }
    }

    function closeCheckout(){ checkoutModalEl.style.display='none'; payMsgEl.textContent=''; paymentContainer.innerHTML=''; elements=null; stripe=null; isPaying=false; payNowBtn.disabled=false; payNowBtn.textContent='Pay'; }

    payNowBtn?.addEventListener('click', confirmPay);
    closeCheckoutBtn?.addEventListener('click', closeCheckout);
  </script>
</body>
</html>
